(window.webpackJsonp=window.webpackJsonp||[]).push([["pages_example"],{"09c6":function(e,t,a){"use strict";a("49c2")},"0eae":function(e,t,a){"use strict";a("8168")},"152f":function(e,t,a){"use strict";a("cb26")},1899:function(e,t,a){},"1b80":function(e,t,a){"use strict";t.a={data:function(){return{loading:!1,sort:null,order:null,pagination:{page:1,size:10,total:0,sizes:[10,20,50,100],layout:"total, sizes, ->, prev, pager, next, jumper"}}},methods:{getParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={from:(this.pagination.page-1)*this.pagination.size,limit:this.pagination.size};return this.sort&&this.order&&(t.sort=this.sort,t.order=this.order),Object.assign(t,e),t},onSizeChange:function(e){this.pagination.size=e,this.getDataList()},onCurrentChange:function(e){this.pagination.page=e,this.getDataList()},onSortChange:function(e){e.order?(this.sort=e.prop,this.order="ascending"===e.order?"asc":"desc"):(this.sort=null,this.order=null),this.getDataList()}}}},"1c4d":function(e,t,a){"use strict";a("b0c0"),a("a9e3");var i={props:{id:{type:[Number,String],default:""}},data:function(){var e=this;return{loading:!1,form:{id:this.id,account:"",name:"",mobile:""},rules:{account:[{required:!0,message:"请输入帐号",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(t,a,i){var n={key:"mobile",value:a};""!=e.form.id&&(n.id=e.form.id),e.$api.get("mock/pages_example/manager/check",{params:n}).then((function(e){e.data.exist?i(new Error("手机号已存在")):i()}))},trigger:"blur"}]}}},mounted:function(){""!=this.form.id&&this.getInfo()},methods:{getInfo:function(){var e=this;this.loading=!0,this.$api.get("mock/pages_example/manager/detail",{params:{id:this.form.id}}).then((function(t){e.loading=!1,e.form.account=t.data.account,e.form.name=t.data.name,e.form.mobile=t.data.mobile}))},submit:function(e){var t=this;""==this.form.id?this.$refs.form.validate((function(a){a&&t.$api.post("mock/pages_example/manager/create",t.form).then((function(){t.$message.success({message:"模拟新增成功",center:!0}),e&&e()}))})):this.$refs.form.validate((function(a){a&&t.$api.post("mock/pages_example/manager/edit",t.form).then((function(){t.$message.success({message:"模拟编辑成功",center:!0}),e&&e()}))}))}}},n=(a("e5f6"),a("2877")),o=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px","label-suffix":"："}},[a("el-form-item",{attrs:{label:"帐号",prop:"account"}},[a("el-input",{attrs:{placeholder:"请输入帐号"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1)],1)}),[],!1,null,"0be9c6c7",null);t.a=o.exports},"31e1":function(e,t,a){"use strict";a("a9e3"),a("99af"),a("4de4"),a("c975"),a("a434"),a("b0c0");var i=a("5093"),n={props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},type:{type:Number,default:1}},data:function(){return{dialog:{index:"",visible:!1,filter:"",checkList:[],disableList:[]}}},computed:{province:function(){var e,t=this;switch(this.dialog.filter){case"":e=i.default;break;case"autonomousRegion":e=i.default.filter((function(e){return e.autonomousRegion}));break;case"provinceLevelCity":e=i.default.filter((function(e){return e.provinceLevelCity}));break;default:e=i.default.filter((function(e){return e.region==t.dialog.filter}))}return e}},created:function(){},mounted:function(){},methods:{showFreightDialog:function(){this.dialog.index="",this.dialog.checkList=[],this.dialog.disableList=this.getDisableProvinceList(),this.dialog.visible=!0},freightDialogSubmit:function(e){if(0===this.dialog.checkList.length)this.$message({message:"请勾选区域",type:"warning"});else{var t=this.data;""!==e?t[e].list=this.dialog.checkList:t.push({list:this.dialog.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),this.$emit("update:data",t),this.dialog.visible=!1}},editFreight:function(e){this.dialog.index=e,this.dialog.checkList=this.data[e].list,this.dialog.disableList=this.getDisableProvinceList(e),this.dialog.visible=!0},deleteFreight:function(e){var t=this.data;t.splice(e,1),this.$emit("update:data",t)},deleteSingleFreight:function(e,t){var a=this.data;a[e].list.splice(a[e].list.indexOf(t),1),0===a[e].list.length&&a.splice(e,1),this.$emit("update:data",a)},getProvinceByCode:function(e){var t="";for(var a in i.default)i.default[a].code===e&&(t=i.default[a].name);return t},getDisableProvinceList:function(e){for(var t=[],a=0;a<this.data.length;a++)e!==a&&(t=t.concat(this.data[a].list));return t}}},o=(a("731b"),a("2877")),l={components:{Freight:Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readonly&&0==e.data.length?e._e():a("el-table",{directives:[{name:"show",rawName:"v-show",value:0!=e.data.length,expression:"data.length != 0"}],staticClass:"freight",attrs:{data:e.data,border:""}},[a("el-table-column",{attrs:{label:"运送到"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.readonly?a("div",e._l(t.row.list,(function(t,i){return a("el-tag",{key:i,attrs:{type:"info"}},[e._v(e._s(e.getProvinceByCode(t)))])})),1):a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-col",e._l(t.row.list,(function(i,n){return a("el-tag",{key:n,attrs:{"disable-transitions":!0,type:"info",closable:""},on:{close:function(a){return e.deleteSingleFreight(t.$index,i)}}},[e._v(e._s(e.getProvinceByCode(i)))])})),1),a("el-col",{staticStyle:{width:"100px","text-align":"right"}},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(a){return e.editFreight(t.$index)}}},[e._v("编 辑")])],1)],1)]}}],null,!1,4131469861)}),a("el-table-column",{attrs:{label:1==e.type?"首件数（件）":"首重量（kg）",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.readonly?a("span",[e._v(e._s(t.row.first_step))]):a("el-input",{directives:[{name:"format-int",rawName:"v-format-int"}],attrs:{size:"small"},model:{value:t.row.first_step,callback:function(a){e.$set(t.row,"first_step",a)},expression:"scope.row.first_step"}})]}}],null,!1,2667258980)}),a("el-table-column",{attrs:{label:"首费（元）",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.readonly?a("span",[e._v(e._s(t.row.first_price))]):a("el-input",{directives:[{name:"format-price",rawName:"v-format-price"}],attrs:{size:"small"},model:{value:t.row.first_price,callback:function(a){e.$set(t.row,"first_price",a)},expression:"scope.row.first_price"}})]}}],null,!1,4166957380)}),a("el-table-column",{attrs:{label:1==e.type?"续件数（件）":"续重量（kg）",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.readonly?a("span",[e._v(e._s(t.row.continued_step))]):a("el-input",{directives:[{name:"format-int",rawName:"v-format-int"}],attrs:{size:"small"},model:{value:t.row.continued_step,callback:function(a){e.$set(t.row,"continued_step",a)},expression:"scope.row.continued_step"}})]}}],null,!1,2015920548)}),a("el-table-column",{attrs:{label:"续费（元）",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.readonly?a("span",[e._v(e._s(t.row.continued_price))]):a("el-input",{directives:[{name:"format-price",rawName:"v-format-price"}],attrs:{size:"small"},model:{value:t.row.continued_price,callback:function(a){e.$set(t.row,"continued_price",a)},expression:"scope.row.continued_price"}})]}}],null,!1,3927454468)}),e.readonly?e._e():a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(a){return e.deleteFreight(t.$index)}}},[e._v("删 除")])]}}],null,!1,1773063513)}),a("template",{slot:"empty"},[a("span")]),a("template",{slot:"append"},[e.readonly?e._e():a("div",{staticStyle:{padding:"10px"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"small",plain:""},on:{click:e.showFreightDialog}},[e._v("新增一条运费模版")])],1)])],2),e.readonly?e._e():a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.data.length,expression:"data.length == 0"}],attrs:{type:"primary",size:"small",plain:""},on:{click:e.showFreightDialog}},[e._v("为指定地区设置运费模版")]),a("el-dialog",{staticClass:"freight-dialog",attrs:{visible:e.dialog.visible,title:"选择地区",width:"800px","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.dialog,"visible",t)},closed:function(t){e.dialog.filter=""}}},[a("div",{staticClass:"filter"},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.dialog.filter,callback:function(t){e.$set(e.dialog,"filter",t)},expression:"dialog.filter"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部")]),a("el-radio-button",{attrs:{label:"north"}},[e._v("华北地区")]),a("el-radio-button",{attrs:{label:"northeast"}},[e._v("东北地区")]),a("el-radio-button",{attrs:{label:"east"}},[e._v("华东地区")]),a("el-radio-button",{attrs:{label:"central"}},[e._v("华中地区")]),a("el-radio-button",{attrs:{label:"south"}},[e._v("华南地区")]),a("el-radio-button",{attrs:{label:"southwest"}},[e._v("西南地区")]),a("el-radio-button",{attrs:{label:"northwest"}},[e._v("西北地区")]),a("el-radio-button",{attrs:{label:"autonomousRegion"}},[e._v("自治区")]),a("el-radio-button",{attrs:{label:"provinceLevelCity"}},[e._v("直辖市")])],1)],1),a("el-checkbox-group",{staticStyle:{"margin-left":"50px"},model:{value:e.dialog.checkList,callback:function(t){e.$set(e.dialog,"checkList",t)},expression:"dialog.checkList"}},[a("el-row",e._l(e.province,(function(t,i){return a("el-col",{key:i,attrs:{span:6}},[a("el-checkbox",{attrs:{label:t.code,disabled:e.dialog.disableList.includes(t.code)}},[e._v(e._s(t.name))])],1)})),1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.freightDialogSubmit(e.dialog.index)}}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"213654dc",null).exports},props:{id:{type:[Number,String],default:""}},data:function(){return{loading:!1,form:{id:this.id,title:"",address:[],type:1,status:!0,first_step:"",first_price:"",continued_step:"",continued_price:"",infos:[]},rules:{title:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},mounted:function(){""!=this.form.id&&this.getInfo()},methods:{getInfo:function(){var e=this;this.loading=!0,this.$api.get("mock/pages_example/shop/delivery/detail",{params:{id:this.form.id}}).then((function(t){e.loading=!1,Object.assign(e.form,t.data)}))},submit:function(e){var t=this;""==this.form.id?this.$refs.form.validate((function(a){a&&t.$api.post("mock/pages_example/shop/delivery/create",t.form).then((function(){t.$message.success({message:"模拟新增成功",center:!0}),e&&e()}))})):this.$refs.form.validate((function(a){a&&t.$api.post("mock/pages_example/shop/delivery/edit",t.form).then((function(){t.$message.success({message:"模拟编辑成功",center:!0}),e&&e()}))}))}}},s=(a("0eae"),Object(o.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px","label-suffix":"："}},[a("el-form-item",{attrs:{label:"名称",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"发货地址",prop:"address"}},[a("cascader-area",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{label:"计价方式"}},[a("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio-button",{attrs:{label:1}},[e._v("按件数")]),a("el-radio-button",{attrs:{label:2}},[e._v("按重量")])],1)],1),a("el-form-item",{attrs:{label:"运费模版"}},[a("div",{staticClass:"freight"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v("默认运费")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:6}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.first_step,callback:function(t){e.$set(e.form,"first_step",t)},expression:"form.first_step"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.form.type?"首件":"首重"))]),a("template",{slot:"append"},[e._v(e._s(1==e.form.type?"件":"kg"))])],2)],1),a("el-col",{attrs:{md:6}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.first_price,callback:function(t){e.$set(e.form,"first_price",t)},expression:"form.first_price"}},[a("template",{slot:"prepend"},[e._v("首费")]),a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-col",{attrs:{md:6}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.continued_step,callback:function(t){e.$set(e.form,"continued_step",t)},expression:"form.continued_step"}},[a("template",{slot:"prepend"},[e._v(e._s(1==e.form.type?"续件":"续重"))]),a("template",{slot:"append"},[e._v(e._s(1==e.form.type?"件":"kg"))])],2)],1),a("el-col",{attrs:{md:6}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.continued_price,callback:function(t){e.$set(e.form,"continued_price",t)},expression:"form.continued_price"}},[a("template",{slot:"prepend"},[e._v("续费")]),a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("Freight",{attrs:{data:e.form.infos,type:e.form.type}})],1)],1)],1)]),a("el-form-item",{attrs:{label:"是否启用"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio-button",{attrs:{label:!0}},[e._v("启用")]),a("el-radio-button",{attrs:{label:!1}},[e._v("停用")])],1)],1)],1)],1)}),[],!1,null,"bada42d8",null));t.a=s.exports},"49c2":function(e,t,a){},"4d47":function(e,t,a){"use strict";a.r(t);a("99af"),a("caad"),a("b0c0"),a("ac1f"),a("841c");var i=a("1b80"),n=a("5530"),o=a("31e1"),l={components:{DetailForm:o.a},props:Object(n.a)(Object(n.a)({},o.a.props),{},{visible:{type:Boolean,default:!1}}),computed:{myVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},methods:{onSubmit:function(){var e=this;this.$refs.form.submit((function(){e.$emit("success"),e.onCancel()}))},onCancel:function(){this.myVisible=!1}}},s=a("2877"),r={name:"PagesExampleDeliveryList",components:{FormDialog:Object(s.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.myVisible,title:""==e.id?"新增运费模版":"编辑运费模版",width:"600px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.myVisible=t}}},[e.myVisible?a("DetailForm",e._b({ref:"form"},"DetailForm",e.$props,!1)):e._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.onCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,null,null).exports},mixins:[i.a],beforeRouteEnter:function(e,t,a){a((function(e){e.$store.state.settings.enableTabbar||e.dialogMode||e.$store.commit("keepAlive/add","PagesExampleDeliveryList")}))},beforeRouteLeave:function(e,t,a){this.$store.state.settings.enableTabbar||this.dialogMode||["PagesExampleDeliveryDetail"].includes(e.name)||this.$store.commit("keepAlive/remove","PagesExampleDeliveryList"),a()},data:function(){return{dialogMode:!1,detailFormDialog:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]}},mounted:function(){var e=this;this.getDataList(),this.dialogMode||this.$eventBus.$on("get-data-list",(function(){e.getDataList()}))},beforeDestroy:function(){this.dialogMode||this.$eventBus.$off("get-data-list")},methods:{getDataList:function(){var e=this;this.loading=!0;var t=this.getParams();this.search.title&&(t.title=this.search.title),this.$api.get("mock/pages_example/shop/delivery/list",{params:t}).then((function(t){e.loading=!1,e.dataList=t.data.list,e.pagination.total=t.data.total}))},onCreate:function(){this.dialogMode?(this.detailFormDialog.id="",this.detailFormDialog.visible=!0):this.$router.push({name:"pagesExampleShopDeliveryCreate"})},onEdit:function(e){this.dialogMode?(this.detailFormDialog.id=e.id,this.detailFormDialog.visible=!0):this.$router.push({name:"pagesExampleShopDeliveryEdit",params:{id:e.id}})},onDel:function(e){var t=this;this.$confirm("确认删除「".concat(e.title,"」吗？"),"确认信息").then((function(){t.$api.post("mock/pages_example/shop/delivery/delete",{id:e.id}).then((function(){t.getDataList(),t.$message.success({message:"模拟删除成功",center:!0})}))})).catch((function(){}))},onChangeStatus:function(e,t){var a=this;this.$confirm("确认".concat(e?"启用":"停用","「").concat(t.title,"」运费模版吗？"),"确认信息").then((function(){a.$api.post("mock/pages_example/shop/delivery/change/status",{id:t.id,status:e}).then((function(){a.$message.success({message:"模拟".concat(e?"启用":"停用","成功"),center:!0})}))})).catch((function(){t.status=!e}))}}},c=(a("09c6"),Object(s.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-header",{attrs:{title:"运费模版管理"}}),a("page-main",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.onCreate}},[e._v("新增运费模版")]),a("search-bar",[a("el-form",{attrs:{model:e.search,size:"small","label-width":"100px","label-suffix":"："}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模版名称"}},[a("el-input",{attrs:{placeholder:"请输入模版名称，支持模糊查询",clearable:""},on:{clear:e.getDataList},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList(t)}},model:{value:e.search.title,callback:function(t){e.$set(e.search,"title",t)},expression:"search.title"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getDataList}},[e._v("筛 选")])],1)],1)],1),e.batch.enable?a("batch-action-bar",{attrs:{data:e.dataList,"selection-data":e.batch.selectionDataList},on:{"check-all":function(t){return e.$refs.table.toggleAllSelection()},"check-null":function(t){return e.$refs.table.clearSelection()}}},[a("el-button",{attrs:{size:"small"}},[e._v("单个批量操作按钮")]),a("el-button-group",[a("el-button",{attrs:{size:"small"}},[e._v("批量操作按钮组1")]),a("el-button",{attrs:{size:"small"}},[e._v("批量操作按钮组2")])],1)],1):e._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"list-table",attrs:{data:e.dataList,border:"",stripe:"","highlight-current-row":""},on:{"sort-change":e.onSortChange,"selection-change":function(t){e.batch.selectionDataList=t}}},[e.batch.enable?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),a("el-table-column",{attrs:{prop:"title",label:"模版名称"}}),a("el-table-column",{attrs:{label:"开启状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.onChangeStatus(a,t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.onEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.onDel(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.page,total:e.pagination.total,"page-size":e.pagination.size,"page-sizes":e.pagination.sizes,layout:e.pagination.layout,"hide-on-single-page":!1,background:""},on:{"size-change":e.onSizeChange,"current-change":e.onCurrentChange}})],1),a("FormDialog",{attrs:{id:e.detailFormDialog.id,visible:e.detailFormDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailFormDialog,"visible",t)},success:e.getDataList}})],1)}),[],!1,null,"29fb4194",null));t.default=c.exports},5866:function(e,t,a){"use strict";a.r(t);var i={name:"PagesExampleManagerDetail",components:{DetailForm:a("1c4d").a},data:function(){return{}},mounted:function(){},methods:{onSubmit:function(){var e=this;this.$refs.form.submit((function(){e.$eventBus.$emit("get-data-list"),e.$router.back()}))},onCancel:function(){this.$router.back()}}},n=(a("ec12"),a("2877")),o=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-header",{attrs:{title:"routerName"==e.$route.name?"新增管理员":"编辑管理员"}},[a("el-button",{attrs:{icon:"el-icon-arrow-left",size:"mini",round:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返 回")])],1),a("page-main",[a("el-row",[a("el-col",{attrs:{md:24,lg:16}},[a("DetailForm",{ref:"form",attrs:{id:e.$route.params.id}})],1)],1)],1),a("fixed-action-bar",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提 交")]),a("el-button",{on:{click:e.onCancel}},[e._v("取 消")])],1)],1)}),[],!1,null,"00faaa38",null);t.default=o.exports},7009:function(e,t,a){"use strict";a.r(t);a("99af"),a("caad"),a("b0c0"),a("ac1f"),a("841c");var i=a("1b80"),n=a("5530"),o=a("1c4d"),l={components:{DetailForm:o.a},props:Object(n.a)(Object(n.a)({},o.a.props),{},{visible:{type:Boolean,default:!1}}),computed:{myVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},methods:{onSubmit:function(){var e=this;this.$refs.form.submit((function(){e.$emit("success"),e.onCancel()}))},onCancel:function(){this.myVisible=!1}}},s=a("2877"),r={name:"PagesExampleManagerList",components:{FormDialog:Object(s.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.myVisible,title:""==e.id?"新增管理员":"编辑管理员",width:"600px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.myVisible=t}}},[e.myVisible?a("DetailForm",e._b({ref:"form"},"DetailForm",e.$props,!1)):e._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.onCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,null,null).exports},mixins:[i.a],beforeRouteEnter:function(e,t,a){a((function(e){e.$store.state.settings.enableTabbar||e.dialogMode||e.$store.commit("keepAlive/add","PagesExampleManagerList")}))},beforeRouteLeave:function(e,t,a){this.$store.state.settings.enableTabbar||this.dialogMode||["pagesExampleGeneralManagerCreate","pagesExampleGeneralManagerEdit"].includes(e.name)||this.$store.commit("keepAlive/remove","PagesExampleManagerList"),a()},data:function(){return{dialogMode:!0,detailFormDialog:{visible:!1,id:""},search:{account:"",name:"",mobile:""},batch:{enable:!0,selectionDataList:[]},dataList:[]}},mounted:function(){var e=this;this.getDataList(),this.dialogMode||this.$eventBus.$on("get-data-list",(function(){e.getDataList()}))},beforeDestroy:function(){this.dialogMode||this.$eventBus.$off("get-data-list")},methods:{getDataList:function(){var e=this;this.loading=!0;var t=this.getParams();this.search.account&&(t.account=this.search.account),this.search.name&&(t.name=this.search.name),this.search.mobile&&(t.mobile=this.search.mobile),this.$api.get("mock/pages_example/manager/list",{params:t}).then((function(t){e.loading=!1,e.dataList=t.data.list,e.pagination.total=t.data.total}))},onCreate:function(){this.dialogMode?(this.detailFormDialog.id="",this.detailFormDialog.visible=!0):this.$router.push({name:"pagesExampleGeneralManagerCreate"})},onEdit:function(e){this.dialogMode?(this.detailFormDialog.id=e.id,this.detailFormDialog.visible=!0):this.$router.push({name:"pagesExampleGeneralManagerEdit",params:{id:e.id}})},onChangeStatus:function(e,t){var a=this;this.$confirm("确认".concat(e?"启用":"停用","「").concat(t.account,"」吗？"),"确认信息").then((function(){a.$api.post("mock/pages_example/manager/change/status",{id:t.id,status:e}).then((function(){a.$message.success({message:"模拟".concat(e?"启用":"停用","成功"),center:!0})}))})).catch((function(){t.status=!e}))},onResetPassword:function(e){var t=this;this.$confirm("确认将「".concat(e.account,"」的密码重置为 “123456” 吗？"),"确认信息").then((function(){t.$api.post("mock/pages_example/manager/password/reset",{id:e.id}).then((function(){t.$message.success({message:"模拟重置成功",center:!0})}))})).catch((function(){}))},onDel:function(e){var t=this;this.$confirm("确认删除「".concat(e.account,"」管理员吗？"),"确认信息").then((function(){t.$api.post("mock/pages_example/manager/delete",{id:e.id}).then((function(){t.getDataList(),t.$message.success({message:"模拟删除成功",center:!0})}))})).catch((function(){}))},handleMoreOperating:function(e,t){switch(e){case"resetPassword":this.onResetPassword(t);break;case"delete":this.onDel(t)}}}},c=(a("152f"),Object(s.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-header",{attrs:{title:"管理员管理"}}),a("page-main",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.onCreate}},[e._v("新增管理员")]),a("search-bar",[a("el-form",{attrs:{model:e.search,size:"small","label-width":"100px","label-suffix":"："}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"帐号"}},[a("el-input",{attrs:{placeholder:"请输入帐号，支持模糊查询",clearable:""},on:{clear:e.getDataList},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList(t)}},model:{value:e.search.account,callback:function(t){e.$set(e.search,"account",t)},expression:"search.account"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名，支持模糊查询",clearable:""},on:{clear:e.getDataList},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList(t)}},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},on:{clear:e.getDataList},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList(t)}},model:{value:e.search.mobile,callback:function(t){e.$set(e.search,"mobile",t)},expression:"search.mobile"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getDataList}},[e._v("筛 选")])],1)],1)],1),e.batch.enable?a("batch-action-bar",{attrs:{data:e.dataList,"selection-data":e.batch.selectionDataList},on:{"check-all":function(t){return e.$refs.table.toggleAllSelection()},"check-null":function(t){return e.$refs.table.clearSelection()}}},[a("el-button",{attrs:{size:"small"}},[e._v("单个批量操作按钮")]),a("el-button-group",[a("el-button",{attrs:{size:"small"}},[e._v("批量操作按钮组1")]),a("el-button",{attrs:{size:"small"}},[e._v("批量操作按钮组2")])],1)],1):e._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"list-table",attrs:{data:e.dataList,border:"",stripe:"","highlight-current-row":""},on:{"sort-change":e.onSortChange,"selection-change":function(t){e.batch.selectionDataList=t}}},[e.batch.enable?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),a("el-table-column",{attrs:{prop:"account",label:"帐号"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"150",align:"center"}}),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.onChangeStatus(a,t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.onEdit(t.row)}}},[e._v("编辑")]),a("el-dropdown",{on:{command:function(a){return e.handleMoreOperating(a,t.row)}}},[a("el-button",{attrs:{size:"mini"}},[e._v(" 更多操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"resetPassword"}},[e._v("重置密码")]),a("el-dropdown-item",{attrs:{command:"delete",divided:""}},[e._v("删除")])],1)],1)]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.page,total:e.pagination.total,"page-size":e.pagination.size,"page-sizes":e.pagination.sizes,layout:e.pagination.layout,"hide-on-single-page":!1,background:""},on:{"size-change":e.onSizeChange,"current-change":e.onCurrentChange}})],1),a("FormDialog",{attrs:{id:e.detailFormDialog.id,visible:e.detailFormDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailFormDialog,"visible",t)},success:e.getDataList}})],1)}),[],!1,null,"6ab11220",null));t.default=c.exports},"731b":function(e,t,a){"use strict";a("79ad")},"79ad":function(e,t,a){},8168:function(e,t,a){},"8fe0":function(e,t,a){"use strict";a.r(t);var i={name:"PagesExampleDeliveryDetail",components:{DetailForm:a("31e1").a},data:function(){return{}},mounted:function(){},methods:{onSubmit:function(){var e=this;this.$refs.form.submit((function(){e.$eventBus.$emit("get-data-list"),e.$router.back()}))},onCancel:function(){this.$router.back()}}},n=(a("c6de"),a("2877")),o=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-header",{attrs:{title:"pagesExampleShopDeliveryCreate"==e.$route.name?"新增运费模版":"编辑运费模版"}},[a("el-button",{attrs:{icon:"el-icon-arrow-left",size:"mini",round:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返 回")])],1),a("page-main",[a("el-row",[a("el-col",{attrs:{md:24,lg:16}},[a("DetailForm",{ref:"form",attrs:{id:e.$route.params.id}})],1)],1)],1),a("fixed-action-bar",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提 交")]),a("el-button",{on:{click:e.onCancel}},[e._v("取 消")])],1)],1)}),[],!1,null,"d92a0e70",null);t.default=o.exports},c6de:function(e,t,a){"use strict";a("1899")},cb26:function(e,t,a){},d346:function(e,t,a){},dd9b:function(e,t,a){},e5f6:function(e,t,a){"use strict";a("d346")},e6f2:function(e,t,a){"use strict";a.r(t);a("99af"),a("4de4"),a("4160"),a("caad"),a("2532"),a("159b");var i={data:function(){return{authorizationList:[{name:"站点管理",module:"station",authorization_list:[{name:"查看详情",module:"info"},{name:"停用",module:"disabled"},{name:"编辑",module:"edit"},{name:"启用",module:"enable"},{name:"查看列表",module:"list"}]},{name:"部门管理",module:"department",authorization_list:[{name:"删除",module:"delete"},{name:"编辑",module:"edit"},{name:"查看详情",module:"info"},{name:"查看列表",module:"list"},{name:"新增",module:"new"}]},{name:"职位管理",module:"department_job",authorization_list:[{name:"查看列表",module:"list"},{name:"新增",module:"new"},{name:"编辑",module:"edit"},{name:"删除",module:"delete"},{name:"查看详情",module:"info"}]},{name:"角色管理",module:"role",authorization_list:[{name:"删除",module:"delete"},{name:"编辑",module:"edit"},{name:"查看详情",module:"info"},{name:"查看列表",module:"list"},{name:"新增",module:"new"}]},{name:"管理员管理",module:"admin_manager",authorization_list:[{name:"编辑权限",module:"authorization_edit"},{name:"查看权限详情",module:"authorization_info"},{name:"删除",module:"delete"},{name:"停用",module:"disabled"},{name:"编辑",module:"edit"},{name:"启用",module:"enable"},{name:"查看详情",module:"info"},{name:"查看列表",module:"list"},{name:"新增",module:"new"},{name:"重置密码",module:"reset"}]}],form:{name:"",brief:"",authorization_list:[]},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],authorization_list:[{validator:function(e,t,a){0==t.length?a(new Error("至少选择一个权限")):a()},trigger:"change"}]}}},computed:{checkAll:function(){var e=this,t=[];return this.authorizationList.forEach((function(a){var i=[];a.authorization_list.forEach((function(t){e.form.authorization_list.includes("".concat(a.module,".").concat(t.module))&&i.push("".concat(a.module,".").concat(t.module))})),t.push({checkAll:i.length==a.authorization_list.length,indeterminate:i.length>0&&i.length<a.authorization_list.length})})),t}},mounted:function(){},methods:{handleCheckAll:function(e,t){var a=this;e?this.authorizationList[t].authorization_list.forEach((function(e){a.form.authorization_list.includes("".concat(a.authorizationList[t].module,".").concat(e.module))||a.form.authorization_list.push("".concat(a.authorizationList[t].module,".").concat(e.module))})):this.authorizationList[t].authorization_list.forEach((function(e){a.form.authorization_list=a.form.authorization_list.filter((function(i){return i!="".concat(a.authorizationList[t].module,".").concat(e.module)}))}))}}},n=a("2877"),o=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-header",{attrs:{title:"权限",content:"该页面生成的权限格式，可直接用于本项目的权限模式"}}),a("page-main",[a("el-row",[a("el-col",{attrs:{md:24,lg:16}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px","label-suffix":"："}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"简介"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:"请输入角色简介"},model:{value:e.form.brief,callback:function(t){e.$set(e.form,"brief",t)},expression:"form.brief"}})],1),a("el-form-item",{attrs:{label:"权限",prop:"authorization_list"}},[a("el-table",{staticStyle:{"line-height":"normal"},attrs:{data:e.authorizationList,border:"",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",width:"200",label:"模块"}}),a("el-table-column",{attrs:{label:"权限"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-col",[a("el-checkbox-group",{model:{value:e.form.authorization_list,callback:function(t){e.$set(e.form,"authorization_list",t)},expression:"form.authorization_list"}},e._l(t.row.authorization_list,(function(i){return a("el-checkbox",{key:t.row.module+"."+i.module,attrs:{label:t.row.module+"."+i.module}},[e._v(e._s(i.name))])})),1)],1),a("el-col",{staticStyle:{flex:"1","margin-left":"20px"}},[a("el-checkbox",{attrs:{border:"",size:"small",indeterminate:e.checkAll[t.$index].indeterminate},on:{change:function(a){return e.handleCheckAll(a,t.$index)}},model:{value:e.checkAll[t.$index].checkAll,callback:function(a){e.$set(e.checkAll[t.$index],"checkAll",a)},expression:"checkAll[scope.$index].checkAll"}},[e._v("全选")])],1)],1)]}}])})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=o.exports},ec12:function(e,t,a){"use strict";a("dd9b")}}]);